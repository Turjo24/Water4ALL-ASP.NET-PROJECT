@{
    ViewData["Title"] = "Admin Profile";
}

<div class="flex justify-center items-center min-h-screen bg-gray-100">
    <div class="bg-white shadow-lg rounded-2xl p-8 w-full max-w-md">

        <!-- Title -->
        <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">
            Admin Profile
        </h2>

        <!-- Profile Info -->
        <div class="space-y-4 text-gray-700">
            <div class="flex justify-between border-b pb-2">
                <span class="font-semibold">👤 Name:</span>
                <span id="userName" class="text-gray-600">Loading...</span>
            </div>
            <div class="flex justify-between border-b pb-2">
                <span class="font-semibold">📧 Email:</span>
                <span id="email" class="text-gray-600">Loading...</span>
            </div>
            <div class="flex justify-between border-b pb-2">
                <span class="font-semibold">🎭 Role:</span>
                <span id="role" class="text-gray-600">Loading...</span>
            </div>
            <div class="flex justify-between">
                <span class="font-semibold">⏰ Login Time:</span>
                <span id="loginTime" class="text-gray-600">Loading...</span>
            </div>
        </div>

        <!-- Actions -->
        <div class="mt-6 flex justify-center space-x-3">
            <button id="updateBtn"
                    class="px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition">
                Update Name
            </button>
        </div>
    </div>
</div>

<script>
    function loadProfileFromLocalStorage() {
        // Get values from localStorage
        const userName = localStorage.getItem("userName") || "Guest";
        const email = localStorage.getItem("email") || "No Email";
        const role = localStorage.getItem("role") || "User";
        const loginTime = localStorage.getItem("loginTime") || new Date().toLocaleString();

        // Safely update UI elements
        const userNameEl = document.getElementById('userName');
        const emailEl = document.getElementById('email');
        const roleEl = document.getElementById('role');
        const loginTimeEl = document.getElementById('loginTime');

        if (userNameEl) userNameEl.innerText = userName;
        if (emailEl) emailEl.innerText = email;
        if (roleEl) roleEl.innerText = role;
        if (loginTimeEl) loginTimeEl.innerText = loginTime;
    }

    document.addEventListener("DOMContentLoaded", () => {
        // Load profile from localStorage
        loadProfileFromLocalStorage();

        // Update button
        const updateBtn = document.getElementById("updateBtn");
        if (updateBtn) {
            updateBtn.addEventListener("click", () => {
                window.location.href = "/Profile/UpdateName";
            });
        }
    });
</script>
